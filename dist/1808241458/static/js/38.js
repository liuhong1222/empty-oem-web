webpackJsonp([38],{"8X5j":function(e,a,t){(e.exports=t("acE3")(!1)).push([e.i,"\n.topSearch {\n  width: 100%;\n  padding: 10px 23px 20px;\n  background-color: #ffffff;\n  margin-bottom: 24px;\n  -webkit-box-shadow: 0px 7px 9px 0px rgba(153, 153, 153, 0.05);\n          box-shadow: 0px 7px 9px 0px rgba(153, 153, 153, 0.05);\n}\n",""])},aUCw:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={data:function(){return{disabled:!1,dataListLoading:!1,OEMSearchData:{dateTime:[],agentName:"",type:""},agentOemTableData:[],pageIndex:1,pageSize:10,totalPage:0,pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()-864e4}}}},activated:function(){this.agentRechargeList()},methods:{agentRechargeList:function(){var e=this;this.dataListLoading=!0,this.$http({url:this.$http.adornUrl("agent/finance/agent/recharge/list?token="+this.$cookie.get("token")),method:"get",params:this.$http.adornParams({currentPage:this.pageIndex,pageSize:this.pageSize,companyName:this.OEMSearchData.agentName,payType:this.OEMSearchData.type,startTime:null==this.OEMSearchData.dateTime?"":this.OEMSearchData.dateTime[0],endTime:null==this.OEMSearchData.dateTime?"":this.OEMSearchData.dateTime[1]})}).then(function(a){var t=a.data;t&&0===t.code?(e.agentOemTableData=t.data.list,e.totalPage=t.data.total,0==t.data.list.length?e.disabled=!0:e.disabled=!1):(e.agentOemTableData=[],e.totalPage=0),e.dataListLoading=!1})},sizeChangeHandle:function(e){this.pageSize=e,this.pageIndex=1,this.agentRechargeList()},currentChangeHandle:function(e){this.pageIndex=e,this.agentRechargeList()},getTotal:function(e){var a=e.columns,t=e.data,n=[];return a.forEach(function(e,a){if(0!==a){var r=t.map(function(a){return Number(a[e.property])});"number"===e.property||"money"===e.property?(n[a]=r.reduce(function(e,a){var t=Number(a);return isNaN(t)?e:e+a},0),"money"===e.property?n[a]+=" 元":"number"===e.property&&(n[a]+=" 条")):n[a]="--"}else n[a]="合计"}),n},getRowClass:function(e){e.row,e.column;var a=e.rowIndex;e.columnIndex;return 0==a?"background-color: #f8f8f8;color:#666;":""},exportxsl:function(){var e=void 0,a=void 0;null==this.OEMSearchData.dateTime?(e="",a=""):0==this.OEMSearchData.dateTime.length?(e="",a=""):(e=this.OEMSearchData.dateTime[0],a=this.OEMSearchData.dateTime[1]),window.open(this.$http.adornUrl("agent/finance/agent/recharge/list/export?token="+this.$cookie.get("token")+"&currentPage="+this.pageIndex+"&pageSize="+this.pageSize+"&companyName="+this.OEMSearchData.agentName+"&payType="+this.OEMSearchData.type+"&startTime="+e+"&endTime="+a))}}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"main"},[t("div",{staticClass:"topSearch"},[t("h2",[e._v("OEM充值明细记录")]),e._v(" "),t("el-form",{attrs:{inline:!0,model:e.OEMSearchData}},[t("el-form-item",{attrs:{label:"创建时间："}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions0},model:{value:e.OEMSearchData.dateTime,callback:function(a){e.$set(e.OEMSearchData,"dateTime",a)},expression:"OEMSearchData.dateTime"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-left":"25px"},attrs:{label:"代理商名称："}},[t("el-input",{attrs:{placeholder:"代理商名称",clearable:""},model:{value:e.OEMSearchData.agentName,callback:function(a){e.$set(e.OEMSearchData,"agentName",a)},expression:"OEMSearchData.agentName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"充值方式："}},[t("el-select",{attrs:{placeholder:"代理商状态"},model:{value:e.OEMSearchData.type,callback:function(a){e.$set(e.OEMSearchData,"type",a)},expression:"OEMSearchData.type"}},[t("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),t("el-option",{attrs:{label:"支付宝",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"对公转账",value:"5"}}),e._v(" "),t("el-option",{attrs:{label:"赠送",value:"6"}})],1)],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-left":"6px"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.agentRechargeList()}}},[e._v("查询")]),e._v(" "),t("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:function(a){e.exportxsl()}}},[e._v("导出")])],1)],1)],1),e._v(" "),t("div",{staticClass:"agentTable"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:e.agentOemTableData,"show-summary":"","summary-method":e.getTotal,"header-cell-style":e.getRowClass}},[t("el-table-column",{attrs:{type:"index","header-align":"center",align:"center",width:"80",label:"序号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"agentId",label:"代理商序号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"companyName",label:"代理商名称",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"payTime",label:"充值时间",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"orderNo",label:" 订单编号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"levelName",label:"代理等级",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"price",label:"单价（元/条）",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"number",label:"条数",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"money",label:"金额（元）",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"payTypeName",label:"方式",width:"120",align:"center"}})],1)],1),e._v(" "),t("div",{staticClass:"agentPage"},[t("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[10,20,30,50],"page-size":e.pageSize,total:e.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1)])},staticRenderFns:[]};var l=t("46Yf")(n,r,!1,function(e){t("oBdX")},null,null);a.default=l.exports},oBdX:function(e,a,t){var n=t("8X5j");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("XkoO")("6bcaeb1c",n,!0)}});