webpackJsonp([14],{IHPB:function(t,e,a){"use strict";e.__esModule=!0;var s,i=a("kfHR"),n=(s=i)&&s.__esModule?s:{default:s};e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,n.default)(t)}},bmCd:function(t,e,a){var s=a("fqjW");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("XkoO")("cb5155aa",s,!0)},fqjW:function(t,e,a){(t.exports=a("acE3")(!1)).push([t.i,"\nh4[data-v-8f91ae66] {\n  display: inline-block;\n}\nspan[data-v-8f91ae66] {\n  padding: 0 15px;\n}\n",""])},idHF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("zsLt"),i=a.n(s),n=a("IHPB"),l=a.n(n),r={data:function(){return{dataForm:{page:1,size:10,status:void 0,customerId:void 0,companyName:void 0,linkMan:void 0,linkPhone:void 0},pageIndex:1,dataList:[],totalPage:void 0,dataListLoading:!1,dataListSelections:[],addOrUpdateVisible:!1,joinStatusOptions:[{value:1,message:"意向"},{value:2,message:"合作"},{value:3,message:"丢弃"},{value:4,message:"到期"},{value:5,message:"潜在"},{value:6,message:"注销"}],joinStatusList:[],statusValue:[],allList:[{value:"customerId",message:"客户ID"},{value:"salesman",message:"负责人ID"},{value:"companyName",message:"公司名称"},{value:"linkMan",message:"联系人"},{value:"linkPhone",message:"联系方式"}],screening:!1,inputDisabledValue:"",paramsOneName:"",allListMessage:"公司名称",select:"公司名称",joinStatus:void 0,keyValue:void 0}},components:{AddOrUpdate:a("FkM0").default},activated:function(){this.getDataList()},methods:{getDataList:function(){var t=this;this.dataListLoading=!0,this.$http({url:this.$http.adornUrl("/biz/customer/list"),method:"get",params:this.$http.adornParams(this.dataForm)}).then(function(e){var a=e.data;a&&0===a.code?(t.dataList=a.page.list,t.totalPage=a.page.totalCount):(t.dataList=[],t.dataForm.totalPage=0),t.dataListLoading=!1})},chooseSelect:function(t){var e=this,a=t;return this.$data.allList.forEach(function(t){var s=t.message,i=t.value;s==a&&(e.dataForm={page:1,size:10},e.paramsOneName=i)}),this.dataForm={page:1,size:10},this.inputDisabledValue="",this.allListMessage=a},deleteChoose:function(){this.joinStatusList=[],this.screening=!1,this.$router.go(0)},inputDisabledValueFn:function(t){""===this.paramsOneName?(this.paramsOneName="companyName",this.dataForm.companyName=this.inputDisabledValue):"customerId"===this.paramsOneName?this.dataForm.customerId=this.inputDisabledValue:"salesman"===this.paramsOneName?this.dataForm.salesman=this.inputDisabledValue:"companyName"===this.paramsOneName?this.dataForm.companyName=this.inputDisabledValue:"linkMan"===this.paramsOneName?this.dataForm.linkMan=this.inputDisabledValue:"linkPhone"===this.paramsOneName&&(this.dataForm.linkPhone=this.inputDisabledValue)},handleFilter:function(){this.statusList?(this.statusValue=this.statusList,this.dataForm.status=this.statusValue.toString(),this.page=1,this.getDataList()):this.getDataList()},sizeChangeHandle:function(t){this.dataForm.size=t,this.dataForm.page=1,this.getDataList()},currentChangeHandle:function(t){this.dataForm.page=t,this.getDataList()},filterChange:function(t){var e=this;this.joinStatusList=[],this.statusValue=[];var a=t.keyValue;a[0]||(this.screening=!1),a.forEach(function(t){e.screening=!0,e.statusValue.push(t),1===t?e.joinStatusList.push("意向"):2===t?e.joinStatusList.push("合作"):3===t?e.joinStatusList.push("丢弃"):4===t?e.joinStatusList.push("到期"):5===t?e.joinStatusList.push("潜在"):6===t&&e.joinStatusList.push("注销")}),this.joinStatusList=[].concat(l()(new i.a(this.joinStatusList))),this.statusValue=[].concat(l()(new i.a(this.statusValue))),this.statusList=this.statusValue,this.dataForm.status=this.statusValue.toString(),this.getDataList()},changeData:function(){},filterTag:function(t,e){return e.joinStatus===t},tableheaderClassName:function(t){t.row,t.rowIndex;return"table-head-th"}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-user"},[!0===this.screening?a("div",[a("h4",[t._v("筛选条件:")]),t._v(" "),a("div",{staticStyle:{display:"inline-block"},model:{value:t.joinStatus,callback:function(e){t.joinStatus=e},expression:"joinStatus"}},[a("ul",{staticStyle:{"list-style":"none",float:"left",background:"#e68f8f",padding:"8px","margin-right":"20px","border-radius":"4px",color:"#fff"}},t._l(t.joinStatusList,function(e){return a("li",{key:"joinStatusList",staticStyle:{float:"left","margin-left":"5px"}},[t._v(" "+t._s(e))])})),t._v(" "),a("p",{staticStyle:{background:"#f11c5f",color:"#fff",display:"inline-block",padding:"8px",cursor:"pointer","border-radius":"3px"},on:{click:t.deleteChoose}},[t._v("清空筛选")])])]):t._e(),t._v(" "),a("el-form",{attrs:{inline:!0,model:t.dataForm},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.getDataList()}}},[a("el-form-item",[a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"公司名称"},on:{change:t.chooseSelect},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.allList,function(t){return a("el-option",{key:t.message,attrs:{label:t.message,value:t.message}})}))],1),t._v(" "),a("el-form-item",[a("el-input",{staticStyle:{width:"230px"},attrs:{placeholder:t.allListMessage,clearable:""},on:{change:t.inputDisabledValueFn},model:{value:t.inputDisabledValue,callback:function(e){t.inputDisabledValue=e},expression:"inputDisabledValue"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%",height:"100%"},attrs:{data:t.dataList,"header-cell-class-name":t.tableheaderClassName},on:{"filter-change":t.filterChange,"sort-change":t.changeData}},[a("el-table-column",{attrs:{type:"selection","header-align":"center",align:"center",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{type:"index","header-align":"center",align:"center",width:"80",fixed:"",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"companyName","header-align":"center",align:"center",width:"250",label:"公司名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"statusDesc","header-align":"center",align:"center",label:"客户状态",width:"150",filters:[{text:"意向",value:1},{text:"合作",value:2},{text:"丢弃",value:3},{text:"到期",value:4},{text:"潜在",value:5},{text:"注销",value:6}],"filter-method":t.filterTag,"column-key":"keyValue"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contacts","header-align":"center",align:"center",label:"联系人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactWay","header-align":"center",align:"center",width:"130",label:"联系方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"wsAccounts","header-align":"center",align:"center",width:"100",label:"万数账号数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"wsProducts","header-align":"center",align:"center",width:"100",label:"万数产品数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"wsRecharges","header-align":"center",align:"center",width:"120",sortable:"",label:"累计充值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"wsConsumes","header-align":"center",align:"center",width:"120",sortable:"",label:"累计消耗"}}),t._v(" "),a("el-table-column",{attrs:{prop:"clewSalesman","header-align":"center",align:"center",width:"80",label:"负责人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pinSalesman","header-align":"center",align:"center",width:"80",label:"销售人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceSalesman","header-align":"center",align:"center",width:"80",label:"运维人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createDate","header-align":"center",align:"center",width:"140",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mark",width:"100","header-align":"center",align:"center",label:"备注"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.dataForm.page,"page-sizes":[10,20,50,100],"page-size":t.dataForm.size,total:t.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}})],1)},staticRenderFns:[]};var u=a("46Yf")(r,o,!1,function(t){a("bmCd")},"data-v-8f91ae66",null);e.default=u.exports}});