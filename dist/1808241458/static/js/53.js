webpackJsonp([53],{Afu9:function(e,t,a){var n=a("BDQp");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("XkoO")("a3ab107a",n,!0)},BDQp:function(e,t,a){(e.exports=a("acE3")(!1)).push([e.i,"\n.moneyInput {\n  width: 330px;\n}\n.el-dialog__header {\n  border-bottom: 1px solid #cccccc;\n}\n.el-dialog-enter .el-dialog__body {\n  padding: 30px 30px 30px 100px;\n}\n.submit-button {\n  margin-left: 120px;\n  margin-right: 50px;\n}\n",""])},nVkL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{messageMoney:"",visible:!1,title:"",bankList:null,bank:"",remarkText:"",disabled:!0,balanceVisible:!1,moneyMessage:"请输入正确的金额",customerName:null,accountPhone:null,remarkMessage:"",dataForm:{aid:76},dataList:{accountId:null,bankNo:null,preMoney:null,actualMoney:null,mark:null}}},created:function(){this.disabled=!0},methods:{init:function(e,t){var a=this;this.title=t,this.visible=!0,this.dataList.accountId=e,this.dataForm.aid=e||0,this.dataForm.aid&&this.$http({url:this.$http.adornUrl("/biz/bizprepayorder/info"),method:"get",params:this.$http.adornParams(this.dataForm)}).then(function(e){var t=e.data;t&&0===t.code&&(a.customerName=t.data.customerName,a.accountPhone=t.data.accountPhone,a.bankList=t.data.banks)})},saveData:function(){var e=this;this.disabled=!0,this.$http({url:this.$http.adornUrl("/biz/bizprepayorder/save"),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},method:"post",data:this.$http.adornData(this.dataList,!0,"form")}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList"),e.messageMoney="",e.remarkText="",e.bank="",e.dataList.actualMoney="",e.dataList.bankNo="",e.dataList.mark="",e.dataList.preMoney=""}}):e.$message.error(a.msg)})},selectBank:function(e){this.dataList.bankNo=e},saveMoney:function(e){var t=this.$refs.money.value;""===t?this.disabled=!0:t<0?(this.disabled=!0,this.balanceVisible=!0):(this.disabled=!1,this.balanceVisible=!1,this.dataList.actualMoney=t,this.dataList.preMoney=t)},saveMark:function(e){this.dataList.mark=this.$refs.mark.value},closeDialog:function(){this.messageMoney="",this.remarkText="",this.bank=""}},filters:{currency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments[2],n=arguments[3],s=arguments[4];e=(e+"").replace(/[^0-9+-Ee.]/g,""),s=s||"ceil";var i=isFinite(+e)?+e:0,r=isFinite(+t)?Math.abs(t):0,o=void 0===n?",":n,l=void 0===a?".":a,c="";c=(r?function(e,t){var a=Math.pow(10,t);return""+parseFloat(Math[s](parseFloat((e*a).toFixed(2*t))).toFixed(2*t))/a}(i,r):""+Math.round(i)).split(".");for(var d=/(-?\d+)(\d{3})/;d.test(c[0]);)c[0]=c[0].replace(d,"$1"+o+"$2");return(c[1]||"").length<r&&(c[1]=c[1]||"",c[1]+=new Array(r-c[1].length+1).join("0")),c.join(l)}},watch:{remarkText:function(e,t){150===e.length?this.remarkMessage="备注最多输入150字哦":this.remarkMessage=""}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-dialog-enter",attrs:{title:"预付","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:e.closeDialog}},[a("el-form",{attrs:{inline:!0,model:e.dataForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"公司名称"}},[e._v("\n      "+e._s(e.customerName)+"\n    ")]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"万数账号"}},[e._v("\n      "+e._s(e.accountPhone)+"\n    ")]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"所涉银行"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectBank},model:{value:e.bank,callback:function(t){e.bank=t},expression:"bank"}},e._l(e.bankList,function(e,t,n){return a("el-option",{key:n,attrs:{label:e,value:t}})}))]}}])}),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"所涉金额(元)"}},[a("el-input",{ref:"money",staticClass:"moneyInput",attrs:{type:"number",placeholder:"单行输入"},on:{change:e.saveMoney},model:{value:e.messageMoney,callback:function(t){e.messageMoney=t},expression:"messageMoney"}}),e._v(" 元\n      "),e.balanceVisible?a("div",{staticClass:"el-form-item__error",model:{value:e.moneyMessage,callback:function(t){e.moneyMessage=t},expression:"moneyMessage"}},[e._v("\n        "+e._s(e.moneyMessage)+"\n      ")]):e._e()],1),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"实付金额(元)"}},[e._v("\n      "+e._s(e._f("currency")(e.messageMoney))+" 元\n    ")]),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{ref:"mark",attrs:{rows:3,cols:53,maxlength:"150",placeholder:"请输入本次操作备注",type:"textarea",clearable:""},on:{change:e.saveMark},model:{value:e.remarkText,callback:function(t){e.remarkText=t},expression:"remarkText"}}),e._v(" "),a("div",{ref:"FormDiv",staticClass:"el-form-item__error"},[e._v(" "+e._s(e.remarkMessage)+" ")]),e._v(" "),a("span",[e._v(e._s(e.remarkText.length)+"/150")])],1),a("br"),e._v(" "),a("el-button",{staticClass:"submit-button",attrs:{type:"primary",disabled:e.disabled},on:{click:e.saveData}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")])],1)],1)},staticRenderFns:[]};var i=a("46Yf")(n,s,!1,function(e){a("Afu9")},null,null);t.default=i.exports}});